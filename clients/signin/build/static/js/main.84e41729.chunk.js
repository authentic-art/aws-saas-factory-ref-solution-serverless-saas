(this["webpackJsonpreact-amplify"]=this["webpackJsonpreact-amplify"]||[]).push([[0],{128:function(e,t){},251:function(e,t,r){e.exports=r(803)},803:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r(7),o=r(28),i=r(37),l=r(38),c=r(41),s=r(40),u=r(36),m=r(14),p=r(227),d=r(243),f=r(813),h=r(805),g=r(812),y=r(15),v="#ffffff",E="#ebedf0",w="rgba(0,0,0,.25)";function b(){b=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",o=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(k){l=function(e,t,r){return e[t]=r}}function c(e,t,r,n){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),i=new _(n||[]);return o._invoke=function(e,t,r){var n="suspendedStart";return function(a,o){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===a)throw o;return j()}for(r.method=a,r.arg=o;;){var i=r.delegate;if(i){var l=w(i,r);if(l){if(l===u)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var c=s(e,t,r);if("normal"===c.type){if(n=r.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n="completed",r.method="throw",r.arg=c.arg)}}}(e,r,i),o}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(k){return{type:"throw",arg:k}}}e.wrap=c;var u={};function m(){}function p(){}function d(){}var f={};l(f,a,(function(){return this}));var h=Object.getPrototypeOf,g=h&&h(h(O([])));g&&g!==t&&r.call(g,a)&&(f=g);var y=d.prototype=m.prototype=Object.create(f);function v(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){var n;this._invoke=function(a,o){function i(){return new t((function(n,i){!function n(a,o,i,l){var c=s(e[a],e,o);if("throw"!==c.type){var u=c.arg,m=u.value;return m&&"object"==typeof m&&r.call(m,"__await")?t.resolve(m.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):t.resolve(m).then((function(e){u.value=e,i(u)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}(a,o,n,i)}))}return n=n?n.then(i,i):i()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return u;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,u;var a=n.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function O(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:void 0,done:!0}}return p.prototype=d,l(y,"constructor",d),l(d,"constructor",p),p.displayName=l(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,l(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},v(E.prototype),l(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,a,o){void 0===o&&(o=Promise);var i=new E(c(t,r,n,a),o);return e.isGeneratorFunction(r)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},v(y),l(y,i,"Generator"),l(y,a,(function(){return this})),l(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=O,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(l&&c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,u):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;S(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:O(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),u}},e}var x=o.a.currentAuthenticatedUser(),S="",_="";Promise.resolve(x).then((function(e){console.log("value:",e),e,S=e.attributes["custom:role"],_=e.attributes.email,console.log(_),console.log(S)}));var O,j=Object(m.f)((function(e){var t=n.useState(!1),r=Object(d.a)(t,2),a=r[0],i=r[1],l=function(){var t=Object(p.a)(b().mark((function t(r){var n;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.history,t.prev=1,t.next=4,o.a.signOut({global:!0}).then((function(){localStorage.removeItem("ReactAmplify.TokenKey"),n.push("/login")}));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),f.a.error({message:t.t0.message});case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}();return n.createElement(h.a,{className:"cover",id:"app-header"},n.createElement(h.a.Sider,{className:"cover",trigger:null,collapsible:!0,collapsed:a},n.createElement("div",{className:"logo"}),n.createElement(g.a,{theme:"dark",mode:"inline",defaultSelectedKeys:["1"]},n.createElement(g.a.Item,{key:"1"},n.createElement(y.a,{type:"home"}),n.createElement("span",null,"Home")),n.createElement(g.a.Item,{key:"2"},n.createElement(y.a,{type:"setting"}),n.createElement("span",null,"Settings")),n.createElement(g.a.Item,{key:"3",onClick:function(e){return l(e)}},n.createElement(y.a,{type:"logout"}),n.createElement("span",null,"Logout")))),n.createElement(h.a,null,n.createElement(h.a.Header,{style:{background:v,padding:0}},n.createElement(y.a,{className:"trigger",onClick:function(){return i(!a)},type:a?"menu-unfold":"menu-fold"})),n.createElement(h.a.Content,{style:{margin:"24px 16px",padding:24,background:v,minHeight:280}},n.createElement("div",{className:"text-center"},n.createElement("h1",null,"Hello : ",_),n.createElement("h3",null,"Your role is : ",S," ")))))})),k=r(810),P=r(811),N=r(806),L=r(807),I=r(165),C=r(808),F=r(58),T=r(59),D=Object(T.b)(k.a)(O||(O=Object(F.a)(["\n  max-width: 350px;\n  border: 1px solid ",";\n  margin: 7% auto !important;\n  padding: 42px 24px 50px !important;\n  background: ",";\n"])),E,v),R=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={loading:!1},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(t,r){if(!t){var n=r.username,a=r.password;e.setState({loading:!0}),o.a.signIn(n,a).then((function(t){var r=e.props,n=r.history,a=(r.location.state||{from:{pathname:"/dashboard"}}).from;localStorage.setItem("ReactAmplify.TokenKey",t.signInUserSession.accessToken.jwtToken),f.a.success({message:"Succesfully logged in!",description:"Logged in successfully, Redirecting you in a few!",placement:"topRight",duration:1.5}),n.push(a)})).catch((function(t){f.a.error({message:"Error",description:t.message,placement:"topRight"}),console.log(t),e.setState({loading:!1})}))}}))},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state.loading;return n.createElement(n.Fragment,null,n.createElement(D,{onSubmit:this.handleSubmit,className:"login-form"},n.createElement(k.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"user",style:{color:w}}),placeholder:"Username"}))),n.createElement(k.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your password!"}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"lock",style:{color:w}}),type:"password",placeholder:"Password"}))),n.createElement(k.a.Item,{className:"text-center"},n.createElement(N.a,{type:"flex",gutter:16},n.createElement(L.a,{lg:24},n.createElement(u.b,{style:{float:"right"},className:"login-form-forgot",to:"/forgot-password"},"Forgot password")),n.createElement(L.a,{lg:24},n.createElement(I.a,{style:{width:"100%"},type:"primary",disabled:t,htmlType:"submit",className:"login-form-button"},t?n.createElement(C.a,{indicator:n.createElement(y.a,{type:"loading",style:{fontSize:24},spin:!0})}):"Log in")),n.createElement(L.a,{lg:24},"Or ",n.createElement(u.b,{to:"/signup"},"register now!"))))))}}]),r}(n.Component),A=k.a.create()(R),q=r(809),U=new(r(794));U.is().min(8).has().uppercase().has().lowercase().has().digits().has().symbols();var z,M,B,G=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={confirmDirty:!1,redirect:!1,loading:!1,email:""},e.handleOpenNotification=function(t,r,n){switch(t){case"success":f.a.success({message:r,description:n,placement:"topRight",duration:1.5,onClose:function(){e.setState({redirect:!0})}});break;case"error":f.a.error({message:r,description:n,placement:"topRight",duration:1.5})}},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll((function(t,r){if(!t){var n=r.fname,a=r.lname,i=r.password,l=r.email,c=r.role;e.setState({loading:!0}),o.a.signUp({username:l,password:i,attributes:{"custom:role":c,email:l,name:"".concat(n," ").concat(a)}}).then((function(){f.a.success({message:"Succesfully signed up user!",description:"Account created successfully, Redirecting you in a few!",placement:"topRight",duration:1.5,onClose:function(){e.setState({redirect:!0})}}),e.setState({email:l})})).catch((function(t){f.a.error({message:"Error",description:"Error signing up user",placement:"topRight",duration:1.5}),e.setState({loading:!1})}))}}))},e.handleConfirmBlur=function(t){var r=t.currentTarget.value;e.setState({confirmDirty:e.state.confirmDirty||!!r})},e.compareToFirstPassword=function(t,r,n){var a=e.props.form;r&&r!==a.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},e.validateToNextPassword=function(t,r,n){var a=e.props.form,o=U.validate(r,{list:!0});r&&e.state.confirmDirty&&a.validateFields(["confirm"],{force:!0}),o.length>0&&n(e.formatPasswordValidateError(o)),n()},e.formatPasswordValidateError=function(e){for(var t=0;t<e.length;t++){if("min"===e[t])return"password length should be a at least 8 characters";if("lowercase"===e[t])return"password should contain lowercase letters";if("uppercase"===e[t])return"password should contain uppercase letters";if("digits"===e[t])return"password should contain digits";if("symbols"===e[t])return"password should contain symbols"}},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,r=t.redirect,a=t.loading,o=n.createElement(n.Fragment,null,n.createElement("h4",null,"Your password should contain: "),n.createElement("ul",null,n.createElement("li",null,"Minimum length of 8 characters"),n.createElement("li",null,"Numerical characters (0-9)"),n.createElement("li",null,"Special characters"),n.createElement("li",null,"Uppercase letter"),n.createElement("li",null,"Lowercase letter")));return n.createElement(n.Fragment,null,n.createElement(D,{onSubmit:this.handleSubmit},n.createElement(k.a.Item,null,e("role",{rules:[{required:!0,message:"Missing role!"}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"user",style:{color:w}}),placeholder:"Role"}))),n.createElement(k.a.Item,null,e("fname",{rules:[{required:!0,message:"Please input your first name!"}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"user",style:{color:w}}),placeholder:"First Name"}))),n.createElement(k.a.Item,null,e("lname",{rules:[{required:!0,message:"Please input your last name!"}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"user",style:{color:w}}),placeholder:"Last Name"}))),n.createElement(k.a.Item,null,e("email",{rules:[{required:!0,message:"Please input your email!"}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"user",style:{color:w}}),placeholder:"Email"}))),n.createElement(k.a.Item,null,n.createElement(q.a,{placement:"right",title:"Password Policy",content:o,trigger:"focus"},e("password",{rules:[{required:!0,message:"Please input your Password!"},{validator:this.validateToNextPassword}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"lock",style:{color:w}}),type:"password",placeholder:"Password"})))),n.createElement(k.a.Item,null,e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"lock",style:{color:w}}),type:"password",placeholder:"Confirm Password",onBlur:this.handleConfirmBlur}))),n.createElement(k.a.Item,{className:"text-center"},n.createElement(N.a,null,n.createElement(L.a,{lg:24},n.createElement(I.a,{style:{width:"100%"},type:"primary",disabled:a,htmlType:"submit"},a?n.createElement(C.a,{indicator:n.createElement(y.a,{type:"loading",style:{fontSize:24},spin:!0})}):"Register")),n.createElement(L.a,{lg:24},"Or ",n.createElement(u.b,{to:"/login"},"login to your account!"))))),r&&n.createElement(m.a,{to:{pathname:"/verify-code",search:"?email=".concat(this.state.email)}}))}}]),r}(n.Component),Y=k.a.create()(G),V=T.b.div(z||(z=Object(F.a)(["\n  position: relative;\n  display: flex;\n  width: 100%;\n  text-align: ",";\n"])),(function(e){return e.align?e.align:""})),K=Object(T.b)(k.a)(M||(M=Object(F.a)(["\n  display: flex;\n  flex-flow: wrap row;\n  max-width: 50%;\n  width: 100%;\n  border: 1px solid ",";\n  margin: 7% auto !important;\n  padding: 42px 24px 50px !important;\n  background: ",";\n  justify-content: space-around;\n\n  input {\n    text-align: center;\n  }\n"])),E,v),W=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={username:"",loading:!1,redirect:!1,confirmationCode:"",error:""},e.handleSubmit=function(t){t.preventDefault();var r=e.state.confirmationCode;e.setState({loading:!0}),o.a.confirmSignUp(e.state.username,r).then((function(){e.handleOpenNotification("success","Succesfully confirmed!","You will be redirected to login in a few!")})).catch((function(t){e.handleOpenNotification("error","Invalid code",t.message),e.setState({loading:!1})}))},e.handleOpenNotification=function(t,r,n){switch(t){case"success":f.a.success({message:r,description:n,placement:"topRight",duration:1.5,onClose:function(){e.setState({redirect:!0})}});break;case"error":f.a.error({message:r,description:n,placement:"topRight",duration:1.5})}},e.handleOnPaste=function(t){t.preventDefault();var r=t.clipboardData.getData("Text").trim();e.setState({confirmationCode:r}),new RegExp("^[0-9]+$").test(r)&&6===r.length&&(e.setState({loading:!0}),o.a.confirmSignUp(e.state.username,r).then((function(){e.handleOpenNotification("success","Succesfully confirmed!","You will be redirected to login in a few!")})).catch((function(t){e.handleOpenNotification("error","Invalid code",t.message),e.setState({loading:!1})})))},e.handleChange=function(t){e.setState({confirmationCode:t.currentTarget.value})},e}return Object(l.a)(r,[{key:"componentDidMount",value:function(){if(this.props.location.search){var e=this.props.location.search.split("=")[1];this.setState({username:e})}}},{key:"render",value:function(){var e=this.state,t=e.loading,r=e.error,a=e.confirmationCode,o=e.redirect;return n.createElement(V,{align:"center"},n.createElement(K,{onSubmit:this.handleSubmit},n.createElement(L.a,{md:24,lg:18},n.createElement("div",{className:"full-width"},n.createElement("h2",null,"Check your email"),n.createElement("p",null,"We've sent a six\xad digit confirmation code")),n.createElement(k.a.Item,{validateStatus:r&&"error",help:r,label:"Confirmation Code"},n.createElement(P.a,{size:"large",type:"number",placeholder:"Enter confirmation code",onChange:this.handleChange,onPaste:this.handleOnPaste,value:a}))),n.createElement(L.a,{md:24,lg:12},n.createElement(I.a,{type:"primary",disabled:t,htmlType:"submit",size:"large"},t?n.createElement(C.a,{indicator:n.createElement(y.a,{type:"loading",style:{fontSize:24},spin:!0})}):"Confirm Email"))),o&&n.createElement(m.a,{to:{pathname:"/login"}}))}}]),r}(n.Component),H=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={username:"",redirect:!1,loading:!1},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFields((function(t,r){if(!t){var n=r.username;e.setState({loading:!0,username:n}),o.a.forgotPassword(n).then((function(t){f.a.success({message:"Redirecting you in a few!",description:"Account confirmed successfully!",placement:"topRight",duration:1.5,onClose:function(){e.setState({redirect:!0})}})})).catch((function(t){f.a.error({message:"User confirmation failed",description:t.message,placement:"topRight",duration:1.5}),e.setState({loading:!1})}))}}))},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,r=t.loading,a=t.redirect,o=t.username;return n.createElement(n.Fragment,null,n.createElement(D,{onSubmit:this.handleSubmit,className:"login-form"},n.createElement(k.a.Item,null,e("username",{rules:[{required:!0,message:"Please input your username!"}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"user",style:{color:w}}),placeholder:"Username"}))),n.createElement(k.a.Item,{className:"text-center"},n.createElement(N.a,null,n.createElement(L.a,{lg:24},n.createElement(I.a,{style:{width:"100%"},type:"primary",htmlType:"submit",className:"login-form-button"},r?n.createElement(C.a,{indicator:n.createElement(y.a,{type:"loading",style:{fontSize:24},spin:!0})}):"Confirm username")),n.createElement(L.a,{lg:24},n.createElement(u.b,{to:"/login"},"Ooh! Wait! I've remembered!"))))),a&&n.createElement(m.a,{to:{pathname:"/reset-password",search:"?username=".concat(o)}}))}}]),r}(n.Component),J=k.a.create()(H),Q=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){var e;Object(i.a)(this,r);for(var n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))).state={confirmDirty:!1,redirect:!1,loading:!1},e.handleBlur=function(t){var r=t.currentTarget.value;e.setState({confirmDirty:e.state.confirmDirty||!!r})},e.compareToFirstPassword=function(t,r,n){var a=e.props.form;r&&r!==a.getFieldValue("password")?n("Two passwords that you enter is inconsistent!"):n()},e.validateToNextPassword=function(t,r,n){var a=e.props.form;r&&e.state.confirmDirty&&a.validateFields(["confirm"],{force:!0}),n()},e.handleSubmit=function(t){t.preventDefault(),e.props.form.validateFieldsAndScroll((function(t,r){if(!t){var n=r.password,a=r.code,i=e.props.location.search.split("=")[1];o.a.forgotPasswordSubmit(i.trim(),a.trim(),n.trim()).then((function(){f.a.success({message:"Success!",description:"Password reset successful, Redirecting you in a few!",placement:"topRight",duration:1.5,onClose:function(){e.setState({redirect:!0})}})})).catch((function(t){f.a.error({message:"Error reseting password",description:t.message,placement:"topRight",duration:1.5}),e.setState({loading:!1})})),e.setState({loading:!0})}}))},e}return Object(l.a)(r,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.state,r=t.redirect,a=t.loading,o=n.createElement(n.Fragment,null,n.createElement("h4",null,"Your password should contain: "),n.createElement("ul",null,n.createElement("li",null,"Minimum length of 8 characters"),n.createElement("li",null,"Numerical characters (0-9)"),n.createElement("li",null,"Special characters"),n.createElement("li",null,"Uppercase letter"),n.createElement("li",null,"Lowercase letter")));return n.createElement(n.Fragment,null,n.createElement(D,{onSubmit:this.handleSubmit},n.createElement("div",{className:"text-center"},n.createElement("p",null,"Check your email for the confirmation code")),n.createElement(k.a.Item,null,n.createElement(N.a,null,n.createElement(L.a,{lg:24},e("code",{rules:[{required:!0,message:"Please input your confirmation code!"}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"lock",style:{color:w}}),placeholder:"Enter your verification code"}))))),n.createElement(k.a.Item,null,n.createElement(q.a,{placement:"right",title:"Password Policy",content:o,trigger:"focus"},e("password",{rules:[{required:!0,message:"Please input your Password!"},{validator:this.validateToNextPassword}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"lock",style:{color:w}}),type:"password",placeholder:"New Password"})))),n.createElement(k.a.Item,null,n.createElement(N.a,null,n.createElement(L.a,{lg:24},e("confirm",{rules:[{required:!0,message:"Please confirm your password!"},{validator:this.compareToFirstPassword}]})(n.createElement(P.a,{prefix:n.createElement(y.a,{type:"lock",style:{color:w}}),type:"password",placeholder:"Confirm Password",onBlur:this.handleBlur}))))),n.createElement(k.a.Item,{className:"text-center"},n.createElement(N.a,null,n.createElement(L.a,{lg:24},n.createElement(I.a,{style:{width:"100%"},type:"primary",htmlType:"submit",className:"login-form-button"},a?n.createElement(C.a,{indicator:n.createElement(y.a,{type:"loading",style:{fontSize:24},spin:!0})}):"Confirm username"))))),r&&n.createElement(m.a,{to:{pathname:"/login"}}))}}]),r}(n.Component),$=k.a.create()(Q),Z=r(246),X=r(799),ee=["component"],te=function(e){var t=e.component,r=Object(Z.a)(e,ee),a=function(e){if(!e)return!1;try{return X(e).exp>=Date.now()/1e3}catch(t){return!1}}(localStorage.getItem("ReactAmplify.TokenKey"));return n.createElement(m.b,Object.assign({},r,{render:function(e){return a?n.createElement(t,e):n.createElement(m.a,{to:{pathname:"/login"}})}}))},re=function(e){Object(c.a)(r,e);var t=Object(s.a)(r);function r(){return Object(i.a)(this,r),t.apply(this,arguments)}return Object(l.a)(r,[{key:"render",value:function(){return n.createElement(u.a,null,n.createElement(n.Fragment,null,n.createElement(te,{exact:!0,path:"/dashboard",component:j}),n.createElement(m.b,{exact:!0,path:"/",component:A}),n.createElement(m.b,{exact:!0,path:"/login",component:A}),n.createElement(m.b,{exact:!0,path:"/signup",component:Y}),n.createElement(m.b,{exact:!0,path:"/verify-code",component:W}),n.createElement(m.b,{exact:!0,path:"/reset-password",component:$}),n.createElement(m.b,{exact:!0,path:"/forgot-password",component:J})))}}]),r}(n.Component),ne=(r(802),function(){return n.createElement(re,null)}),ae=Object(T.a)(B||(B=Object(F.a)(["\n  body {\n    body {\n      margin: 0;\n      padding: 0;\n      width: 100%;\n      height: 100%;\n    }\n    #root {\n      position: relative;\n      width: 100%;\n      height: 100%;\n    }\n    #root > section {\n      position: relative;\n      width: 100%;\n      height: 100%;\n    }\n  }\n"]))),oe={aws_project_region:"us-east-1",aws_cognito_region:"us-east-1",aws_user_pools_id:"us-east-1_NQZxVWV0K",aws_user_pools_web_client_id:"6eace8rhlp55aov213fkkarpom",oauth:{},aws_cognito_username_attributes:["EMAIL"],aws_cognito_social_providers:[],aws_cognito_signup_attributes:["EMAIL"],aws_cognito_mfa_configuration:"OFF",aws_cognito_mfa_types:["SMS"],aws_cognito_password_protection_settings:{passwordPolicyMinLength:8,passwordPolicyCharacters:[]},aws_cognito_verification_mechanisms:["EMAIL"],aws_cloud_logic_custom:[{name:"AdminQueries",endpoint:"https://n3jj3que69.execute-api.us-east-1.amazonaws.com/dev",region:"us-east-1"}],aws_content_delivery_bucket:"unipalite-20220524154419-hostingbucket-dev",aws_content_delivery_bucket_region:"us-east-1",aws_content_delivery_url:"http://unipalite-20220524154419-hostingbucket-dev.s3-website-us-east-1.amazonaws.com"};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.b.configure(oe),a.render(n.createElement(n.Fragment,null,n.createElement(ae,null),n.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[251,1,2]]]);
//# sourceMappingURL=main.84e41729.chunk.js.map