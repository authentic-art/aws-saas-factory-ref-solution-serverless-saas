{"ast":null,"code":"var _jsxFileName = \"/Users/l1/WebstormProjects/Amplify-AA/src/Containers/LoginContainer/index.tsx\";\nimport * as React from 'react';\nimport { Link } from 'react-router-dom';\nimport { Auth } from 'aws-amplify';\nimport { Form, Icon, Spin, Input, Button, notification, Col, Row } from 'antd';\n/** Presentational */\n\nimport FormWrapper from '../../Components/Styled/FormWrapper';\n/** App theme */\n\nimport { colors } from '../../Themes/Colors';\n/** App constants */\n\nimport { AUTH_USER_TOKEN_KEY } from '../../Utils/constants';\n\nclass LoginContainer extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      loading: false\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          let {\n            username,\n            password\n          } = values;\n          this.setState({\n            loading: true\n          });\n          Auth.signIn(username, password).then(user => {\n            const {\n              history,\n              location\n            } = this.props; // @ts-ignore\n\n            const {\n              from\n            } = location.state || {\n              from: {\n                pathname: '/dashboard'\n              }\n            };\n            localStorage.setItem(AUTH_USER_TOKEN_KEY, user.signInUserSession.accessToken.jwtToken);\n            notification.success({\n              message: 'Succesfully logged in!',\n              description: 'Logged in successfully, Redirecting you in a few!',\n              placement: 'topRight',\n              duration: 1.5\n            });\n            history.push(from);\n          }).catch(err => {\n            notification.error({\n              message: 'Error',\n              description: err.message,\n              placement: 'topRight'\n            });\n            console.log(err);\n            this.setState({\n              loading: false\n            });\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    const {\n      loading\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(FormWrapper, {\n      onSubmit: this.handleSubmit,\n      className: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 13\n      }\n    }, getFieldDecorator('username', {\n      rules: [{\n        required: true,\n        message: 'Please input your username!'\n      }]\n    })( /*#__PURE__*/React.createElement(Input, {\n      prefix: /*#__PURE__*/React.createElement(Icon, {\n        type: \"user\",\n        style: {\n          color: colors.transparentBlack\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 34\n        }\n      }),\n      placeholder: \"Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }\n    }, getFieldDecorator('password', {\n      rules: [{\n        required: true,\n        message: 'Please input your password!'\n      }]\n    })( /*#__PURE__*/React.createElement(Input, {\n      prefix: /*#__PURE__*/React.createElement(Icon, {\n        type: \"lock\",\n        style: {\n          color: colors.transparentBlack\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 31\n        }\n      }),\n      type: \"password\",\n      placeholder: \"Password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Item, {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      type: \"flex\",\n      gutter: 16,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      style: {\n        float: 'right'\n      },\n      className: \"login-form-forgot\",\n      to: \"/forgot-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 19\n      }\n    }, \"Forgot password\")), /*#__PURE__*/React.createElement(Col, {\n      lg: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        width: '100%'\n      },\n      type: \"primary\",\n      disabled: loading,\n      htmlType: \"submit\",\n      className: \"login-form-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 19\n      }\n    }, loading ? /*#__PURE__*/React.createElement(Spin, {\n      indicator: /*#__PURE__*/React.createElement(Icon, {\n        type: \"loading\",\n        style: {\n          fontSize: 24\n        },\n        spin: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 49\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 32\n      }\n    }) : 'Log in')), /*#__PURE__*/React.createElement(Col, {\n      lg: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }\n    }, \"Or \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 22\n      }\n    }, \"register now!\"))))));\n  }\n\n}\n\nexport default Form.create()(LoginContainer);","map":{"version":3,"names":["React","Link","Auth","Form","Icon","Spin","Input","Button","notification","Col","Row","FormWrapper","colors","AUTH_USER_TOKEN_KEY","LoginContainer","Component","state","loading","handleSubmit","event","preventDefault","props","form","validateFields","err","values","username","password","setState","signIn","then","user","history","location","from","pathname","localStorage","setItem","signInUserSession","accessToken","jwtToken","success","message","description","placement","duration","push","catch","error","console","log","render","getFieldDecorator","rules","required","color","transparentBlack","float","width","fontSize","create"],"sources":["/Users/l1/WebstormProjects/Amplify-AA/src/Containers/LoginContainer/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Link, RouteComponentProps } from 'react-router-dom';\nimport { Auth } from 'aws-amplify';\nimport { Form, Icon, Spin, Input, Button, notification, Col, Row } from 'antd';\n\n/** Presentational */\nimport FormWrapper from '../../Components/Styled/FormWrapper';\n\n/** App theme */\nimport { colors } from '../../Themes/Colors';\n\n/** App constants */\nimport { AUTH_USER_TOKEN_KEY } from '../../Utils/constants';\n\ntype Props = RouteComponentProps & {\n  form: any;\n};\n\ntype State = {\n  loading: boolean;\n};\n\nclass LoginContainer extends React.Component<Props, State> {\n  state = {\n    loading: false\n  };\n\n  handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n\n    this.props.form.validateFields((err: Error, values: { username: string; password: string }) => {\n      if (!err) {\n        let { username, password } = values;\n\n        this.setState({ loading: true });\n\n        Auth.signIn(username, password)\n            .then(user => {\n              const { history, location } = this.props;\n              // @ts-ignore\n              const { from } = location.state || {\n                from: {\n                  pathname: '/dashboard'\n                }\n              };\n\n              localStorage.setItem(AUTH_USER_TOKEN_KEY, user.signInUserSession.accessToken.jwtToken);\n\n              notification.success({\n                message: 'Succesfully logged in!',\n                description: 'Logged in successfully, Redirecting you in a few!',\n                placement: 'topRight',\n                duration: 1.5\n              });\n\n              history.push(from);\n            })\n            .catch(err => {\n              notification.error({\n                message: 'Error',\n                description: err.message,\n                placement: 'topRight'\n              });\n\n              console.log(err);\n\n              this.setState({ loading: false });\n            });\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { loading } = this.state;\n\n    return (\n        <React.Fragment>\n          <FormWrapper onSubmit={this.handleSubmit} className=\"login-form\">\n            <Form.Item>\n              {getFieldDecorator('username', {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Please input your username!'\n                  }\n                ]\n              })(\n                  <Input prefix={<Icon type=\"user\" style={{ color: colors.transparentBlack }} />} placeholder=\"Username\" />\n              )}\n            </Form.Item>\n            <Form.Item>\n              {getFieldDecorator('password', {\n                rules: [\n                  {\n                    required: true,\n                    message: 'Please input your password!'\n                  }\n                ]\n              })(\n                  <Input\n                      prefix={<Icon type=\"lock\" style={{ color: colors.transparentBlack }} />}\n                      type=\"password\"\n                      placeholder=\"Password\"\n                  />\n              )}\n            </Form.Item>\n            <Form.Item className=\"text-center\">\n              <Row type=\"flex\" gutter={16}>\n                <Col lg={24}>\n                  <Link style={{ float: 'right' }} className=\"login-form-forgot\" to=\"/forgot-password\">\n                    Forgot password\n                  </Link>\n                </Col>\n                <Col lg={24}>\n                  <Button\n                      style={{ width: '100%' }}\n                      type=\"primary\"\n                      disabled={loading}\n                      htmlType=\"submit\"\n                      className=\"login-form-button\"\n                  >\n                    {loading ? <Spin indicator={<Icon type=\"loading\" style={{ fontSize: 24 }} spin />} /> : 'Log in'}\n                  </Button>\n                </Col>\n                <Col lg={24}>\n                  Or <Link to=\"/signup\">register now!</Link>\n                </Col>\n              </Row>\n            </Form.Item>\n          </FormWrapper>\n        </React.Fragment>\n    );\n  }\n}\n\nexport default Form.create()(LoginContainer);"],"mappings":"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"},"metadata":{},"sourceType":"module"}