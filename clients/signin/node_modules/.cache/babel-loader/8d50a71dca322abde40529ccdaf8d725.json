{"ast":null,"code":"var _jsxFileName = \"/Users/l1/WebstormProjects/Amplify-AA/src/Containers/DashboardContainer/index.tsx\";\nimport * as React from 'react';\nimport { Auth } from 'aws-amplify';\nimport { withRouter } from 'react-router';\nimport { Layout, Menu, Icon, notification } from 'antd';\n/** App Theme */\n\nimport { colors } from '../../Themes/Colors';\n/** App Constatns */\n\nimport { AUTH_USER_TOKEN_KEY } from '../../Utils/constants';\nconst user = Auth.currentAuthenticatedUser();\nvar data = '';\nvar userRole = '';\nvar userEmail = '';\nPromise.resolve(user).then(value => {\n  console.log('value:', value);\n  data = value;\n  userRole = value.attributes['custom:role'];\n  userEmail = value.attributes['email'];\n  console.log(userEmail);\n  console.log(userRole);\n});\n\nconst DashBoardContainer = props => {\n  const [collapsed, setCollapsed] = React.useState(false);\n\n  const handleLogout = async event => {\n    const {\n      history\n    } = props;\n\n    try {\n      await Auth.signOut({\n        global: true\n      }).then(() => {\n        localStorage.removeItem(AUTH_USER_TOKEN_KEY);\n        history.push('/login');\n      });\n    } catch (err) {\n      notification.error({\n        message: err.message\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Layout, {\n    className: \"cover\",\n    id: \"app-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Layout.Sider, {\n    className: \"cover\",\n    trigger: null,\n    collapsible: true,\n    collapsed: collapsed,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Menu, {\n    theme: \"dark\",\n    mode: \"inline\",\n    defaultSelectedKeys: ['1'],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"home\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Home\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"setting\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"Settings\")), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"3\",\n    onClick: event => handleLogout(event),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    type: \"logout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Logout\")))), /*#__PURE__*/React.createElement(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Layout.Header, {\n    style: {\n      background: colors.white,\n      padding: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Icon, {\n    className: \"trigger\",\n    onClick: () => setCollapsed(!collapsed),\n    type: collapsed ? 'menu-unfold' : 'menu-fold',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Layout.Content, {\n    style: {\n      margin: '24px 16px',\n      padding: 24,\n      background: colors.white,\n      minHeight: 280\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"Hello : \", userEmail), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"Your role is : \", userRole, \" \")))));\n};\n\nexport default withRouter(DashBoardContainer);","map":{"version":3,"names":["React","Auth","withRouter","Layout","Menu","Icon","notification","colors","AUTH_USER_TOKEN_KEY","user","currentAuthenticatedUser","data","userRole","userEmail","Promise","resolve","then","value","console","log","attributes","DashBoardContainer","props","collapsed","setCollapsed","useState","handleLogout","event","history","signOut","global","localStorage","removeItem","push","err","error","message","background","white","padding","margin","minHeight"],"sources":["/Users/l1/WebstormProjects/Amplify-AA/src/Containers/DashboardContainer/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport {Auth, JS} from 'aws-amplify';\n\nimport { RouteComponentProps, withRouter } from 'react-router';\nimport { Layout, Menu, Icon, notification } from 'antd';\n\n/** App Theme */\nimport { colors } from '../../Themes/Colors';\n\n/** App Constatns */\nimport { AUTH_USER_TOKEN_KEY } from '../../Utils/constants';\nimport { ClickParam } from 'antd/lib/menu';\n\nconst user = Auth.currentAuthenticatedUser()\nvar data=''\nvar userRole=''\nvar userEmail=''\nPromise.resolve(user).then(value=>{\n  console.log('value:',value)\n  data=value;\n  userRole=value.attributes['custom:role']\n  userEmail=value.attributes['email']\n\n  console.log(userEmail)\n  console.log(userRole)\n\n})\n\n\nconst DashBoardContainer: React.SFC<RouteComponentProps> = props => {\n  const [collapsed, setCollapsed] = React.useState(false);\n  const handleLogout = async (event: ClickParam) => {\n    const { history } = props;\n    try {\n\n      await Auth.signOut({ global: true }).then(() => {\n        localStorage.removeItem(AUTH_USER_TOKEN_KEY);\n        history.push('/login');\n      });\n    } catch (err) {\n      notification.error({ message: err.message });\n    }\n  };\n\n\n\n  return (\n\n    <Layout className=\"cover\" id=\"app-header\">\n\n      <Layout.Sider className=\"cover\" trigger={null} collapsible collapsed={collapsed}>\n        <div className=\"logo\" />\n        <Menu theme=\"dark\" mode=\"inline\" defaultSelectedKeys={['1']}>\n          <Menu.Item key=\"1\">\n            <Icon type=\"home\" />\n            <span>Home</span>\n          </Menu.Item>\n          <Menu.Item key=\"2\">\n            <Icon type=\"setting\" />\n            <span>Settings</span>\n          </Menu.Item>\n          <Menu.Item key=\"3\" onClick={event => handleLogout(event)}>\n            <Icon type=\"logout\" />\n            <span>Logout</span>\n          </Menu.Item>\n        </Menu>\n      </Layout.Sider>\n      <Layout>\n        <Layout.Header style={{ background: colors.white, padding: 0 }}>\n          <Icon\n            className=\"trigger\"\n            onClick={() => setCollapsed(!collapsed)}\n            type={collapsed ? 'menu-unfold' : 'menu-fold'}\n          />\n        </Layout.Header>\n        <Layout.Content\n          style={{\n            margin: '24px 16px',\n            padding: 24,\n            background: colors.white,\n            minHeight: 280\n          }}\n        >\n          <div className=\"text-center\">\n            <h1>Hello : {userEmail}</h1>\n            <h3>Your role is : {userRole} </h3>\n\n          </div>\n        </Layout.Content>\n      </Layout>\n    </Layout>\n  );\n};\n\nexport default withRouter(DashBoardContainer);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}