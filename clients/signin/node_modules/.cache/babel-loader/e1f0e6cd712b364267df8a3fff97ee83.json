{"ast":null,"code":"var _jsxFileName = \"/Users/l1/WebstormProjects/Amplify-AA/src/Containers/ForgotPasswordContainer/index.tsx\";\nimport * as React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Auth } from 'aws-amplify';\nimport { Form, Icon, Spin, Input, Button, notification, Row, Col } from 'antd';\n/** Presentational */\n\nimport FormWrapper from '../../Components/Styled/FormWrapper';\n/** App theme */\n\nimport { colors } from '../../Themes/Colors';\n\nclass ForgotPasswordContainer extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      username: '',\n      redirect: false,\n      loading: false\n    };\n\n    this.handleSubmit = event => {\n      event.preventDefault();\n      this.props.form.validateFields((err, values) => {\n        if (!err) {\n          let {\n            username\n          } = values;\n          this.setState({\n            loading: true,\n            username\n          });\n          Auth.forgotPassword(username).then(data => {\n            notification.success({\n              message: 'Redirecting you in a few!',\n              description: 'Account confirmed successfully!',\n              placement: 'topRight',\n              duration: 1.5,\n              onClose: () => {\n                this.setState({\n                  redirect: true\n                });\n              }\n            });\n          }).catch(err => {\n            notification.error({\n              message: 'User confirmation failed',\n              description: err.message,\n              placement: 'topRight',\n              duration: 1.5\n            });\n            this.setState({\n              loading: false\n            });\n          });\n        }\n      });\n    };\n  }\n\n  render() {\n    const {\n      getFieldDecorator\n    } = this.props.form;\n    const {\n      loading,\n      redirect,\n      username\n    } = this.state;\n    return /*#__PURE__*/React.createElement(React.Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(FormWrapper, {\n      onSubmit: this.handleSubmit,\n      className: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 11\n      }\n    }, getFieldDecorator('username', {\n      rules: [{\n        required: true,\n        message: 'Please input your username!'\n      }]\n    })( /*#__PURE__*/React.createElement(Input, {\n      prefix: /*#__PURE__*/React.createElement(Icon, {\n        type: \"user\",\n        style: {\n          color: colors.transparentBlack\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 30\n        }\n      }),\n      placeholder: \"Username\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(Form.Item, {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Row, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Col, {\n      lg: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      style: {\n        width: '100%'\n      },\n      type: \"primary\",\n      htmlType: \"submit\",\n      className: \"login-form-button\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, loading ? /*#__PURE__*/React.createElement(Spin, {\n      indicator: /*#__PURE__*/React.createElement(Icon, {\n        type: \"loading\",\n        style: {\n          fontSize: 24\n        },\n        spin: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 38\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 21\n      }\n    }) : 'Confirm username')), /*#__PURE__*/React.createElement(Col, {\n      lg: 24,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, \"Ooh! Wait! I've remembered!\"))))), redirect && /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: '/reset-password',\n        search: `?username=${username}`\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }\n    }));\n  }\n\n}\n\nexport default Form.create()(ForgotPasswordContainer);","map":{"version":3,"names":["React","Link","Redirect","Auth","Form","Icon","Spin","Input","Button","notification","Row","Col","FormWrapper","colors","ForgotPasswordContainer","Component","state","username","redirect","loading","handleSubmit","event","preventDefault","props","form","validateFields","err","values","setState","forgotPassword","then","data","success","message","description","placement","duration","onClose","catch","error","render","getFieldDecorator","rules","required","color","transparentBlack","width","fontSize","pathname","search","create"],"sources":["/Users/l1/WebstormProjects/Amplify-AA/src/Containers/ForgotPasswordContainer/index.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Auth } from 'aws-amplify';\nimport { Form, Icon, Spin, Input, Button, notification, Row, Col } from 'antd';\n\n/** Presentational */\nimport FormWrapper from '../../Components/Styled/FormWrapper';\n\n/** App theme */\nimport { colors } from '../../Themes/Colors';\n\ntype Props = {\n  form: any;\n};\n\ntype State = {\n  username: string;\n  redirect: boolean;\n  loading: boolean;\n};\n\nclass ForgotPasswordContainer extends React.Component<Props, State> {\n  state = {\n    username: '',\n    redirect: false,\n    loading: false\n  };\n\n  handleSubmit = (event: React.FormEvent) => {\n    event.preventDefault();\n\n    this.props.form.validateFields((err: { message: string }, values: { username: string }) => {\n      if (!err) {\n        let { username } = values;\n\n        this.setState({\n          loading: true,\n          username\n        });\n\n        Auth.forgotPassword(username)\n          .then(data => {\n            notification.success({\n              message: 'Redirecting you in a few!',\n              description: 'Account confirmed successfully!',\n              placement: 'topRight',\n              duration: 1.5,\n              onClose: () => {\n                this.setState({ redirect: true });\n              }\n            });\n          })\n          .catch(err => {\n            notification.error({\n              message: 'User confirmation failed',\n              description: err.message,\n              placement: 'topRight',\n              duration: 1.5\n            });\n            this.setState({ loading: false });\n          });\n      }\n    });\n  };\n\n  render() {\n    const { getFieldDecorator } = this.props.form;\n    const { loading, redirect, username } = this.state;\n\n    return (\n      <React.Fragment>\n        <FormWrapper onSubmit={this.handleSubmit} className=\"login-form\">\n          <Form.Item>\n            {getFieldDecorator('username', {\n              rules: [\n                {\n                  required: true,\n                  message: 'Please input your username!'\n                }\n              ]\n            })(\n              <Input prefix={<Icon type=\"user\" style={{ color: colors.transparentBlack }} />} placeholder=\"Username\" />\n            )}\n          </Form.Item>\n          <Form.Item className=\"text-center\">\n            <Row>\n              <Col lg={24}>\n                <Button style={{ width: '100%' }} type=\"primary\" htmlType=\"submit\" className=\"login-form-button\">\n                  {loading ? (\n                    <Spin indicator={<Icon type=\"loading\" style={{ fontSize: 24 }} spin />} />\n                  ) : (\n                    'Confirm username'\n                  )}\n                </Button>\n              </Col>\n              <Col lg={24}>\n                <Link to=\"/login\">Ooh! Wait! I've remembered!</Link>\n              </Col>\n            </Row>\n          </Form.Item>\n        </FormWrapper>\n        {redirect && (\n          <Redirect\n            to={{\n              pathname: '/reset-password',\n              search: `?username=${username}`\n            }}\n          />\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Form.create()(ForgotPasswordContainer);\n"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,SAASC,IAAT,QAAqB,aAArB;AACA,SAASC,IAAT,EAAeC,IAAf,EAAqBC,IAArB,EAA2BC,KAA3B,EAAkCC,MAAlC,EAA0CC,YAA1C,EAAwDC,GAAxD,EAA6DC,GAA7D,QAAwE,MAAxE;AAEA;;AACA,OAAOC,WAAP,MAAwB,qCAAxB;AAEA;;AACA,SAASC,MAAT,QAAuB,qBAAvB;;AAYA,MAAMC,uBAAN,SAAsCd,KAAK,CAACe,SAA5C,CAAoE;EAAA;IAAA;IAAA,KAClEC,KADkE,GAC1D;MACNC,QAAQ,EAAE,EADJ;MAENC,QAAQ,EAAE,KAFJ;MAGNC,OAAO,EAAE;IAHH,CAD0D;;IAAA,KAOlEC,YAPkE,GAOlDC,KAAD,IAA4B;MACzCA,KAAK,CAACC,cAAN;MAEA,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,cAAhB,CAA+B,CAACC,GAAD,EAA2BC,MAA3B,KAA4D;QACzF,IAAI,CAACD,GAAL,EAAU;UACR,IAAI;YAAET;UAAF,IAAeU,MAAnB;UAEA,KAAKC,QAAL,CAAc;YACZT,OAAO,EAAE,IADG;YAEZF;UAFY,CAAd;UAKAd,IAAI,CAAC0B,cAAL,CAAoBZ,QAApB,EACGa,IADH,CACQC,IAAI,IAAI;YACZtB,YAAY,CAACuB,OAAb,CAAqB;cACnBC,OAAO,EAAE,2BADU;cAEnBC,WAAW,EAAE,iCAFM;cAGnBC,SAAS,EAAE,UAHQ;cAInBC,QAAQ,EAAE,GAJS;cAKnBC,OAAO,EAAE,MAAM;gBACb,KAAKT,QAAL,CAAc;kBAAEV,QAAQ,EAAE;gBAAZ,CAAd;cACD;YAPkB,CAArB;UASD,CAXH,EAYGoB,KAZH,CAYSZ,GAAG,IAAI;YACZjB,YAAY,CAAC8B,KAAb,CAAmB;cACjBN,OAAO,EAAE,0BADQ;cAEjBC,WAAW,EAAER,GAAG,CAACO,OAFA;cAGjBE,SAAS,EAAE,UAHM;cAIjBC,QAAQ,EAAE;YAJO,CAAnB;YAMA,KAAKR,QAAL,CAAc;cAAET,OAAO,EAAE;YAAX,CAAd;UACD,CApBH;QAqBD;MACF,CA/BD;IAgCD,CA1CiE;EAAA;;EA4ClEqB,MAAM,GAAG;IACP,MAAM;MAAEC;IAAF,IAAwB,KAAKlB,KAAL,CAAWC,IAAzC;IACA,MAAM;MAAEL,OAAF;MAAWD,QAAX;MAAqBD;IAArB,IAAkC,KAAKD,KAA7C;IAEA,oBACE,oBAAC,KAAD,CAAO,QAAP;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE,oBAAC,WAAD;MAAa,QAAQ,EAAE,KAAKI,YAA5B;MAA0C,SAAS,EAAC,YAApD;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE,oBAAC,IAAD,CAAM,IAAN;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GACGqB,iBAAiB,CAAC,UAAD,EAAa;MAC7BC,KAAK,EAAE,CACL;QACEC,QAAQ,EAAE,IADZ;QAEEV,OAAO,EAAE;MAFX,CADK;IADsB,CAAb,CAAjB,eAQC,oBAAC,KAAD;MAAO,MAAM,eAAE,oBAAC,IAAD;QAAM,IAAI,EAAC,MAAX;QAAkB,KAAK,EAAE;UAAEW,KAAK,EAAE/B,MAAM,CAACgC;QAAhB,CAAzB;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAf;MAAgF,WAAW,EAAC,UAA5F;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EARD,CADH,CADF,eAaE,oBAAC,IAAD,CAAM,IAAN;MAAW,SAAS,EAAC,aAArB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE,oBAAC,GAAD;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE,oBAAC,GAAD;MAAK,EAAE,EAAE,EAAT;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE,oBAAC,MAAD;MAAQ,KAAK,EAAE;QAAEC,KAAK,EAAE;MAAT,CAAf;MAAkC,IAAI,EAAC,SAAvC;MAAiD,QAAQ,EAAC,QAA1D;MAAmE,SAAS,EAAC,mBAA7E;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,GACG3B,OAAO,gBACN,oBAAC,IAAD;MAAM,SAAS,eAAE,oBAAC,IAAD;QAAM,IAAI,EAAC,SAAX;QAAqB,KAAK,EAAE;UAAE4B,QAAQ,EAAE;QAAZ,CAA5B;QAA8C,IAAI,MAAlD;QAAA;QAAA;UAAA;UAAA;UAAA;QAAA;MAAA,EAAjB;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADM,GAGN,kBAJJ,CADF,CADF,eAUE,oBAAC,GAAD;MAAK,EAAE,EAAE,EAAT;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE,oBAAC,IAAD;MAAM,EAAE,EAAC,QAAT;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,iCADF,CAVF,CADF,CAbF,CADF,EA+BG7B,QAAQ,iBACP,oBAAC,QAAD;MACE,EAAE,EAAE;QACF8B,QAAQ,EAAE,iBADR;QAEFC,MAAM,EAAG,aAAYhC,QAAS;MAF5B,CADN;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAhCJ,CADF;EA0CD;;AA1FiE;;AA6FpE,eAAeb,IAAI,CAAC8C,MAAL,GAAcpC,uBAAd,CAAf"},"metadata":{},"sourceType":"module"}